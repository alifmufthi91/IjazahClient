(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a312d50a"],{"144c":function(e,t,n){"use strict";var i=n("8792"),a="0x7CC6c878b1B06696Beb83d8F244C19d5C52a58D3",s=[{inputs:[{internalType:"uint256",name:"idCertificate",type:"uint256"},{internalType:"address",name:"assignedSigner",type:"address"},{internalType:"bytes9",name:"role",type:"bytes9"}],name:"assignSigner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"accountManagerAddress",type:"address"},{internalType:"address",name:"civitasHelperAddress",type:"address"},{internalType:"address",name:"akademikHelperAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"idCertificate",type:"uint256"},{indexed:!1,internalType:"address",name:"asignedSigner",type:"address"},{indexed:!1,internalType:"bytes9",name:"role",type:"bytes9"},{indexed:!1,internalType:"uint256",name:"timeAssigned",type:"uint256"}],name:"AssignSignerToCertificate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes12",name:"ownerNim",type:"bytes12"},{indexed:!1,internalType:"bytes16",name:"jenisSertifikat",type:"bytes16"},{indexed:!1,internalType:"uint8",name:"signedTimes",type:"uint8"},{indexed:!1,internalType:"uint8",name:"signRequired",type:"uint8"},{indexed:!1,internalType:"uint256",name:"timeCreated",type:"uint256"}],name:"CertificateCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timePublished",type:"uint256"}],name:"CertificatePublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes9",name:"role",type:"bytes9"},{indexed:!1,internalType:"uint8",name:"signedTimes",type:"uint8"},{indexed:!1,internalType:"uint256",name:"timeSigned",type:"uint256"}],name:"CertificateSigned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timeSigned",type:"uint256"}],name:"CertificateSignedByOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newIpfsHash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"oldIpfsHash",type:"bytes"},{indexed:!1,internalType:"bool",name:"isUpdateNINAData",type:"bool"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"CertificateUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"riwayatId",type:"uint256"},{internalType:"uint256",name:"semesterId",type:"uint256"},{internalType:"uint256",name:"ampuId",type:"uint256"},{internalType:"uint256",name:"dosenId",type:"uint256"},{internalType:"bytes21",name:"dosenNip",type:"bytes21"},{internalType:"bytes2",name:"nilai",type:"bytes2"}],name:"changeNilaiRiwayatStudi",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes12",name:"ownerNim",type:"bytes12"},{internalType:"bytes16",name:"jenisSertifikat",type:"bytes16"},{internalType:"uint8",name:"signRequired",type:"uint8"},{internalType:"bytes",name:"ipfsHash",type:"bytes"},{internalType:"address[]",name:"signerList",type:"address[]"},{internalType:"bytes9[]",name:"roleList",type:"bytes9[]"}],name:"createSertifikat",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes17",name:"noIjazah",type:"bytes17"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"IjazahDinomorkan",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"oldAddress",type:"address"},{indexed:!1,internalType:"address",name:"newAddress",type:"address"},{indexed:!1,internalType:"bytes2",name:"jenis",type:"bytes2"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"InterfaceUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"semesterId",type:"uint256"},{internalType:"uint256",name:"ampuId",type:"uint256"},{internalType:"uint256",name:"dosenId",type:"uint256"},{internalType:"bytes21",name:"dosenNip",type:"bytes21"},{internalType:"bytes12",name:"mahasiswaNim",type:"bytes12"},{internalType:"bytes2",name:"nilai",type:"bytes2"}],name:"pengisianNilaiMatkul",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes17",name:"noIjazah",type:"bytes17"}],name:"penomoranIjazah",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"publishCertificate",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes12",name:"nim",type:"bytes12"},{indexed:!1,internalType:"uint256",name:"ampuId",type:"uint256"},{indexed:!1,internalType:"bytes2",name:"nilai",type:"bytes2"},{indexed:!1,internalType:"uint256",name:"timeCreated",type:"uint256"}],name:"RiwayatCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes2",name:"oldNilai",type:"bytes2"},{indexed:!1,internalType:"bytes2",name:"newNilai",type:"bytes2"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"RiwayatUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes9",name:"role",type:"bytes9"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"signCertificate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"signCertificateByOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"updateAccountManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"updateAkademikHelper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"idCertificate",type:"uint256"},{internalType:"bytes",name:"newIpfsHash",type:"bytes"},{internalType:"bool",name:"isUpdateNINAData",type:"bool"}],name:"updateCertificateData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"updateCivitasHelper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getCertificateOfOwner",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"bytes16",name:"",type:"bytes16"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes9",name:"role",type:"bytes9"}],name:"getCertificateOfSigner",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"bytes16",name:"",type:"bytes16"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getNomorIjazah",outputs:[{internalType:"bytes17",name:"",type:"bytes17"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"ipfsHash",type:"bytes"}],name:"getPublishedCertificate",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"bytes16",name:"",type:"bytes16"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"riwayatId",type:"uint256"}],name:"getRiwayatStudi",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes2",name:"",type:"bytes2"},{internalType:"bytes12",name:"",type:"bytes12"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes9",name:"role",type:"bytes9"}],name:"getSignature",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes9",name:"",type:"bytes9"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes",name:"ownerSignature",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes9",name:"role",type:"bytes9"},{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"verifyCertificate",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verifyCertificateOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verifySignature",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"}],r=new i["a"].eth.Contract(s,a);t["a"]=r},"23d6":function(e,t,n){"use strict";n.r(t),n.d(t,"GET_CIVITAS",(function(){return s["a"]})),n.d(t,"GET_MAHASISWA",(function(){return s["b"]}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex min-vh-100"},[n("CContainer",{attrs:{fluid:""}},[n("CRow",{staticClass:"justify-content-center"},[n("CCol",{attrs:{md:"8"}},[n("CAlert",{attrs:{show:e.dismissSuccess,closeButton:"",color:"success",fade:""},on:{"update:show":function(t){e.dismissSuccess=t}}},[e._v("Sertifikat berhasil ditambahkan.")]),n("CAlert",{attrs:{show:e.dismissFail,closeButton:"",color:"danger",fade:""},on:{"update:show":function(t){e.dismissFail=t}}},[n("strong",[e._v("Permintaan Gagal")]),e._v(" : "+e._s(e.dismissFail)+" ")])],1),n("CCol",{attrs:{md:"12"}},[n("CCard",{staticClass:"mx-4 mb-5"},[n("CCardBody",{staticClass:"p-4"},[n("CForm",[n("h2",{staticClass:"mb-3"},[e._v("Tambah Sertifkat")]),n("CRow",[n("CCol",{attrs:{sm:"6"}},[n("CSelect",{attrs:{label:"Jenis Sertifikat",options:e.jenisOptions,value:e.sertifikat.jenis,placeholder:"Pilih Jenis Sertifikat","is-valid":e.inputValidator(this.sertifikat.jenis),required:""},on:{"update:value":function(t){return e.$set(e.sertifikat,"jenis",t)}}})],1),n("CCol",{attrs:{sm:"6"}},[n("CInput",{attrs:{label:"NIM Pemilik",value:e.sertifikat.pemilik,"is-valid":e.validator(this.sertifikat.pemilik)},on:{"update:value":function(t){return e.$set(e.sertifikat,"pemilik",t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("CButton",{attrs:{color:"primary"},on:{click:e.getMahasiswaInfo}},[e._v("Check")])]},proxy:!0}])})],1)],1),n("CRow",{staticClass:"justify-content-center my-3"},[e.pemilik.data?n("CCol",{attrs:{md:"10"}},[n("h4",{staticClass:"text-center"},[e._v("Info Pemilik")]),n("CCard",{attrs:{color:"light"}},[n("CCardBody",[n("CForm",[n("CRow",{staticClass:"justify-content-center my-3"},[n("CCol",{attrs:{sm:"4"}},[n("CInput",{attrs:{disabled:"",label:"Nama",value:e.pemilik.data.nama}})],1),n("CCol",{attrs:{sm:"4"}},[n("CInput",{attrs:{disabled:"",label:"NIM",value:e.pemilik.data.nim}})],1),n("CCol",{attrs:{sm:"4"}},[n("CInput",{attrs:{disabled:"",label:"Prodi",value:e.pemilik.data.prodi}})],1),n("CCol",{attrs:{sm:"6"}},[n("CInput",{attrs:{disabled:"",label:"Jenis Kelamin",value:e.pemilik.data.jenisKelamin}})],1),n("CCol",{attrs:{sm:"6"}},[n("CInput",{attrs:{disabled:"",label:"NIK",value:e.pemilik.data.nik}})],1)],1),n("CRow",{staticClass:"justify-content-center"},[e.pemilik.address?n("CCol",[n("CInput",{attrs:{disabled:"",label:"Address",value:e.pemilik.address}})],1):e._e(),e.pemilik.address?e._e():n("CCol",[n("h4",{staticClass:"text-danger text-center"},[e._v("Mahasiswa Belum Memiliki Akun")])])],1)],1)],1)],1)],1):e._e(),e.pemilik.hash&&!e.pemilik.data?n("CCol",{attrs:{md:"10"}},[n("CProgress",{staticClass:"mt-1",staticStyle:{height:"20px"},attrs:{color:"success",value:100,animated:""}})],1):e._e(),null==e.pemilik.hash?n("CCol",{attrs:{md:"10"}},[n("h4",{staticClass:"text-center"},[e._v("Pemilik Tidak ditemukan")])]):e._e()],1),n("h3",{staticClass:"mb-3"},[e._v("Sertifikat")]),n("CRow",{staticClass:"justify-content-center"},[n("CCol",{attrs:{sm:"6"}},[n("CInputFile",{attrs:{placeholder:"Pilih File Sertifikat...",accept:e.documentFormat},on:{change:e.previewFiles}}),e.isUploadingFile?n("div",[n("CProgress",{staticClass:"mt-1",staticStyle:{height:"20px"},attrs:{color:"success",value:100,animated:""}})],1):e._e()],1),n("CCol",[n("CButtonGroup",[n("CButton",{attrs:{color:"primary"},on:{click:e.uploadSertifikat}},[e._v("Upload")]),e.uploadedSertifikat?n("CButton",{attrs:{color:"success",href:e.fileUrl,target:"_blank"}},[e._v("Lihat")]):e._e()],1)],1)],1),n("h3",{staticClass:"mb-3 mt-3"},[e._v("Penanda Tangan")]),n("CRow",{staticClass:"justify-content-center"},[e._l(e.listSigners,(function(t,i){return[n("div",{key:i,staticClass:"d-flex"},[n("CContainer",{attrs:{fluid:""}},[n("CRow",{staticClass:"mx-auto"},[n("CCard",[n("CCardHeader",[e._v(" Penandatangan #"+e._s(i+1)+" "),n("div",{staticClass:"card-header-actions"},[n("CLink",{staticClass:"card-header-action btn-close",attrs:{href:"#"},on:{click:function(t){return e.deleteSigner(i)}}},[n("CIcon",{attrs:{name:"cil-x-circle"}})],1)],1)]),n("CCardBody",[n("CForm",[n("CRow",[n("CCol",{attrs:{sm:"4"}},[n("CSelect",{attrs:{label:"Role",options:e.roleOptions,value:e.listSigners[i].role,placeholder:"Pilih Role","is-valid":e.inputValidator(e.listSigners[i].role),required:""},on:{"update:value":function(t){return e.$set(e.listSigners[i],"role",t)},change:function(t){return e.updateCivitasOptions(i)}}})],1),n("CCol",{attrs:{sm:"4"}},[n("CSelect",{attrs:{label:"Nama",options:e.listCivitasOptions[i],value:e.listSigners[i].id,placeholder:"Pilih Penandatangan","is-valid":e.inputValidator(e.listSigners[i].id),required:""},on:{"update:options":function(t){return e.$set(e.listCivitasOptions,i,t)},"update:value":function(t){return e.$set(e.listSigners[i],"id",t)}}})],1),n("CCol",{attrs:{sm:"4"}},[n("CInput",{attrs:{disabled:"",label:"Address",value:e.listSigners[i].id},on:{"update:value":function(t){return e.$set(e.listSigners[i],"id",t)}}})],1)],1)],1)],1)],1)],1)],1)],1)]}))],2),n("CButton",{attrs:{color:"success"},on:{click:e.addSigner}},[e._v("Tambah Penanda Tangan")])],1)],1),n("CCardFooter",[n("CRow",{staticClass:"justify-content-center"},[n("CCol",{attrs:{sm:"4"}},[n("CButton",{attrs:{color:"danger",block:""},on:{click:e.goBack}},[e._v("Kembali")])],1),n("CCol",{attrs:{sm:"4"}},[n("CButton",{attrs:{color:"success",block:""},on:{click:function(t){e.confirmModal=!0}}},[e._v("Tambah Sertifikat")])],1)],1)],1)],1)],1)],1)],1),n("CModal",{attrs:{show:e.confirmModal,"no-close-on-backdrop":!0,centered:!0,title:"Konfirmasi",size:"sm",color:"dark"},on:{"update:show":function(t){e.confirmModal=t}},scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"modal-title"},[e._v("Konfirmasi")]),n("CButtonClose",{staticClass:"text-white",on:{click:function(t){e.confirmModal=!1}}})]},proxy:!0},{key:"footer",fn:function(){return[n("CButton",{attrs:{color:"danger"},on:{click:function(t){return e.confirmRegister(!1)}}},[e._v("Kembali")]),n("CButton",{attrs:{color:"success"},on:{click:function(t){return e.confirmRegister(!0)}}},[e._v("Konfirmasi")])]},proxy:!0}])},[e._v(" Apakah data telah sesuai? ")])],1)},a=[],s=n("8888"),r=s["c"],l=n("2877"),d=Object(l["a"])(r,i,a,!1,null,null,null);t["default"]=d.exports},8888:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return y}));var i=n("3f55"),a=n("144c"),s=n("9530"),r=n.n(s);function l(){var e=u(["\n      query {\n        civitas {\n          id\n          name\n        }\n      }\n    "]);return l=function(){return e},e}function d(){var e=u(["\n  query mahasiswa($id: Bytes!) {\n    mahasiswa(id: $id) {\n      linkedAccount {\n        id\n      }\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=u(["\n  query civitas($role: Bytes!) {\n    civitas(where: { role_contains: $role }) {\n      id\n      name\n      linkedAccount {\n        id\n      }\n    }\n  }\n"]);return p=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o=r()(p()),y=r()(d()),m=n("94e4"),c=m({host:"ipfs.infura.io",port:5001,protocol:"https"});t["c"]={name:"TambahSertifikat",apollo:{civitas:r()(l())},data:function(){return{jenisOptions:[{label:"Ijazah",value:"ijazah"},{label:"SKPI",value:"skpi"}],roleOptions:[{value:"admin",label:"Admin"},{value:"dosen",label:"Dosen"},{value:"pd2",label:"PD II"},{value:"rektor",label:"Rektor"},{value:"kajur",label:"Kepala Jurusan"}],confirmModal:!1,successModal:!1,dismissSuccess:0,dismissFail:0,sertifikat:{jenis:null,pemilik:String(),file:null},previewImage:null,uploadedSertifikat:null,pemilik:{nim:String(),hash:String(),address:String(),data:null},listSigners:[],listCivitasOptions:[],isUploadingFile:!1}},computed:{fileUrl:function(){var e="https://gateway.ipfs.io/ipfs/"+this.uploadedSertifikat;return e},documentFormat:function(){return"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.openxmlformats-officedocument.presentationml.slideshow"}},methods:{goBack:function(){this.$router.go(-1)},createSertifikat:function(){var t=this.pemilik;if(this.isDataReady()){var n=[],i=[];this.listSigners.forEach((function(e){n.push(e.id),i.push(web3.utils.utf8ToHex(e.role))}));var s=this.packSertifikat(),r=e.from(JSON.stringify(s));c.add(r).then((function(e){var r=e[0].hash;web3.eth.getAccounts().then((function(e){return a["a"].methods.createSertifikat(t.address,t.nim,web3.utils.utf8ToHex(s.jenis),n.length,web3.utils.utf8ToHex(r),n,i).send({from:e[0]}).on("error",(function(e,t){console.log(e)})).on("transactionHash",(function(e){console.log(e)}))}))}))}},packSertifikat:function(){var e={};return e.jenis=this.sertifikat.jenis,e.file=this.uploadedSertifikat,e.pemilik=this.pemilik,e.penandaTangan=this.listSigners,e},getMahasiswaInfo:function(){var e=this.sertifikat.pemilik,t=this.getMahasiswaAddress,n=this.pemilik;n.hash="",n.data="",n.nim="",web3.eth.getAccounts().then((function(a){return i["a"].methods.getMahasiswa(web3.utils.utf8ToHex(e)).call({from:a[0]}).then((function(e){n.nim=e[0],n.hash=e[1],null!=n.hash&&c.cat("/ipfs/"+web3.utils.hexToUtf8(n.hash)).then((function(e){n.data=JSON.parse(e.toString()),t()}))}))}))},getMahasiswaAddress:function(){var e=this;if(!this.pemilik.nim)return!1;this.$apollo.query({query:y,variables:{id:this.pemilik.nim}}).then((function(t){if(!t.data.mahasiswa.linkedAccount)return!1;e.pemilik.address=t.data.mahasiswa.linkedAccount.id}))},updateCivitasOptions:function(e){var t=this,n=this.listSigners[e].role;this.$apollo.query({query:o,variables:{role:web3.utils.utf8ToHex(n)}}).then((function(n){var i=[];n.data.civitas.forEach((function(e){i.push({label:web3.utils.hexToUtf8(e.name),value:e.linkedAccount.id})})),t.listCivitasOptions[e]=i,t.$forceUpdate()}))},uploadSertifikat:function(){var e=this;this.isUploadingFile=!0,c.add(this.sertifikat.file).then((function(t){var n=t[0].hash;e.uploadedSertifikat=n,e.isUploadingFile=!1}))},civitasOptions:function(e){return this.listCivitasOptions[e]},validator:function(e){return!!e&&e.length>1},inputValidator:function(e){return!!e},confirmRegister:function(e){this.confirmModal=!1,e&&this.createSertifikat()},showAlert:function(e){e?this.dismissSuccess=5:this.dismissFail=5},addSigner:function(){this.listSigners.push({id:null,role:null}),this.listCivitasOptions[this.listSigners.length-1]=[]},deleteSigner:function(e){this.listSigners.splice(e,1)},previewFiles:function(e){this.sertifikat.file=e[0]},isStringEmpty:function(e){return!e||0===e.length},isDataReady:function(){var e=!0,t=[];return!(this.isStringEmpty(this.pemilik.address)||this.isStringEmpty(this.pemilik.nim)||this.isStringEmpty(this.pemilik.data.nama)||this.isStringEmpty(this.sertifikat.jenis)||this.listSigners.length<1||null==this.uploadedSertifikat)&&(this.listSigners.forEach((function(n){(null==n.id||null==n.role||t.includes(n.id))&&(e=!1),t.push(n.id)})),e)}}}}).call(this,n("b639").Buffer)}}]);
//# sourceMappingURL=chunk-a312d50a.2bcca0af.js.map