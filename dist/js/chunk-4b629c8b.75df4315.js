(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b629c8b"],{"144c":function(e,t,n){"use strict";var i=n("8792"),a="0x7CC6c878b1B06696Beb83d8F244C19d5C52a58D3",s=[{inputs:[{internalType:"uint256",name:"idCertificate",type:"uint256"},{internalType:"address",name:"assignedSigner",type:"address"},{internalType:"bytes9",name:"role",type:"bytes9"}],name:"assignSigner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"accountManagerAddress",type:"address"},{internalType:"address",name:"civitasHelperAddress",type:"address"},{internalType:"address",name:"akademikHelperAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"idCertificate",type:"uint256"},{indexed:!1,internalType:"address",name:"asignedSigner",type:"address"},{indexed:!1,internalType:"bytes9",name:"role",type:"bytes9"},{indexed:!1,internalType:"uint256",name:"timeAssigned",type:"uint256"}],name:"AssignSignerToCertificate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes12",name:"ownerNim",type:"bytes12"},{indexed:!1,internalType:"bytes16",name:"jenisSertifikat",type:"bytes16"},{indexed:!1,internalType:"uint8",name:"signedTimes",type:"uint8"},{indexed:!1,internalType:"uint8",name:"signRequired",type:"uint8"},{indexed:!1,internalType:"uint256",name:"timeCreated",type:"uint256"}],name:"CertificateCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timePublished",type:"uint256"}],name:"CertificatePublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes9",name:"role",type:"bytes9"},{indexed:!1,internalType:"uint8",name:"signedTimes",type:"uint8"},{indexed:!1,internalType:"uint256",name:"timeSigned",type:"uint256"}],name:"CertificateSigned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timeSigned",type:"uint256"}],name:"CertificateSignedByOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newIpfsHash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"oldIpfsHash",type:"bytes"},{indexed:!1,internalType:"bool",name:"isUpdateNINAData",type:"bool"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"CertificateUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"riwayatId",type:"uint256"},{internalType:"uint256",name:"semesterId",type:"uint256"},{internalType:"uint256",name:"ampuId",type:"uint256"},{internalType:"uint256",name:"dosenId",type:"uint256"},{internalType:"bytes21",name:"dosenNip",type:"bytes21"},{internalType:"bytes2",name:"nilai",type:"bytes2"}],name:"changeNilaiRiwayatStudi",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes12",name:"ownerNim",type:"bytes12"},{internalType:"bytes16",name:"jenisSertifikat",type:"bytes16"},{internalType:"uint8",name:"signRequired",type:"uint8"},{internalType:"bytes",name:"ipfsHash",type:"bytes"},{internalType:"address[]",name:"signerList",type:"address[]"},{internalType:"bytes9[]",name:"roleList",type:"bytes9[]"}],name:"createSertifikat",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes17",name:"noIjazah",type:"bytes17"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"IjazahDinomorkan",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"oldAddress",type:"address"},{indexed:!1,internalType:"address",name:"newAddress",type:"address"},{indexed:!1,internalType:"bytes2",name:"jenis",type:"bytes2"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"InterfaceUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"semesterId",type:"uint256"},{internalType:"uint256",name:"ampuId",type:"uint256"},{internalType:"uint256",name:"dosenId",type:"uint256"},{internalType:"bytes21",name:"dosenNip",type:"bytes21"},{internalType:"bytes12",name:"mahasiswaNim",type:"bytes12"},{internalType:"bytes2",name:"nilai",type:"bytes2"}],name:"pengisianNilaiMatkul",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes17",name:"noIjazah",type:"bytes17"}],name:"penomoranIjazah",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"publishCertificate",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes12",name:"nim",type:"bytes12"},{indexed:!1,internalType:"uint256",name:"ampuId",type:"uint256"},{indexed:!1,internalType:"bytes2",name:"nilai",type:"bytes2"},{indexed:!1,internalType:"uint256",name:"timeCreated",type:"uint256"}],name:"RiwayatCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"ID",type:"uint256"},{indexed:!1,internalType:"bytes2",name:"oldNilai",type:"bytes2"},{indexed:!1,internalType:"bytes2",name:"newNilai",type:"bytes2"},{indexed:!1,internalType:"uint256",name:"timeUpdated",type:"uint256"}],name:"RiwayatUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes9",name:"role",type:"bytes9"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"signCertificate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"signCertificateByOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"updateAccountManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"updateAkademikHelper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"idCertificate",type:"uint256"},{internalType:"bytes",name:"newIpfsHash",type:"bytes"},{internalType:"bool",name:"isUpdateNINAData",type:"bool"}],name:"updateCertificateData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"updateCivitasHelper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getCertificateOfOwner",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"bytes16",name:"",type:"bytes16"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes9",name:"role",type:"bytes9"}],name:"getCertificateOfSigner",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"bytes16",name:"",type:"bytes16"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getNomorIjazah",outputs:[{internalType:"bytes17",name:"",type:"bytes17"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"ipfsHash",type:"bytes"}],name:"getPublishedCertificate",outputs:[{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"bytes16",name:"",type:"bytes16"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"riwayatId",type:"uint256"}],name:"getRiwayatStudi",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes2",name:"",type:"bytes2"},{internalType:"bytes12",name:"",type:"bytes12"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes9",name:"role",type:"bytes9"}],name:"getSignature",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes9",name:"",type:"bytes9"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes",name:"ownerSignature",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes9",name:"role",type:"bytes9"},{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"verifyCertificate",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verifyCertificateOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verifySignature",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"}],r=new i["a"].eth.Contract(s,a);t["a"]=r},"2ade":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CRow",[n("CCol",{attrs:{col:"12",xl:"12"}},[n("CCard",[n("CCardHeader",[e._v("Info Sertifikat")]),n("CCardBody",[n("CDataTable",{attrs:{hover:"",items:e.filteredItems,fields:e.fields,"items-per-page":5,"active-page":e.activePage,pagination:{doubleArrows:!1,align:"center"},sorter:"",columnFilter:""},on:{"page-change":e.pageChange},scopedSlots:e._u([{key:"ownerNIM-filter",fn:function(){return[n("input",{staticClass:"form-control form-control-sm",domProps:{value:e.filterNIM},on:{change:e.setFilterNIM}})]},proxy:!0},{key:"ownerNIM",fn:function(t){return[n("td",[e._v(e._s(e.hexToString(t.item.ownerNIM)))])]}},{key:"jenis-filter",fn:function(){return[n("input",{staticClass:"form-control form-control-sm",domProps:{value:e.filterJenis},on:{change:e.setFilterJenis}})]},proxy:!0},{key:"jenis",fn:function(t){return[n("td",[e._v(e._s(e.hexToString(t.item.jenis)))])]}},{key:"tandaTangan",fn:function(t){return[n("td",[e._v(e._s(e.formattedSigners(t.item)))])]}},{key:"isSignedByOwner",fn:function(t){return[n("td",[n("CBadge",{attrs:{color:t.item.isSignedByOwner?"info":"danger"}},[e._v(e._s(t.item.isSignedByOwner?"SUDAH":"BELUM"))])],1)]}},{key:"isPublished",fn:function(t){return[n("td",[n("CBadge",{attrs:{color:t.item.isPublished?"info":"danger"}},[e._v(" "+e._s(t.item.isPublished?"SUDAH":"BELUM"))])],1)]}},{key:"action",fn:function(t){return[n("td",[n("CCol",{staticClass:"mb-3 mb-xl-0 text-left"},[n("CButtonGroup",[n("CButton",{attrs:{color:"primary",size:"sm"},on:{click:function(n){return e.detailClicked(t.item)}}},[e._v("Detail")]),n("CButton",{attrs:{color:"info",size:"sm"}},[e._v("Edit")]),t.item.isPublished?e._e():n("CButton",{staticClass:"mr-3",attrs:{color:"success",size:"sm"},on:{click:function(n){return e.openPublishModal(t.item)}}},[e._v("Publish Sertifikat")])],1)],1)],1)]}}])})],1)],1)],1),n("CModal",{attrs:{show:e.publishModal,"no-close-on-backdrop":!0,centered:!0,title:"Publish Sertifikat",md:"8",color:"success"},on:{"update:show":function(t){e.publishModal=t}},scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"modal-title"},[e._v("Publish Sertifikat")]),n("CButtonClose",{staticClass:"text-white",on:{click:function(t){e.publishModal=!1}}})]},proxy:!0},{key:"footer",fn:function(){return[n("CButton",{attrs:{color:"danger"},on:{click:function(t){return e.confirmPublish(!1)}}},[e._v("Kembali")]),n("CButton",{attrs:{color:"success"},on:{click:function(t){return e.confirmPublish(!0)}}},[e._v("Konfirmasi")])]},proxy:!0}])},[n("CRow",[n("CCol",[n("CInput",{attrs:{label:"NIM Pemilik",horizontal:"",readonly:"",value:e.hexToString(e.selectedSertifikat.ownerNIM)}}),n("CInput",{attrs:{label:"Jenis",horizontal:"",readonly:"",value:e.hexToString(e.selectedSertifikat.jenis)}}),n("CInput",{attrs:{label:"Jumlah TTD",horizontal:"",readonly:"",value:e.selectedSertifikat.signedTimes+"/"+e.selectedSertifikat.signRequired}}),n("CInput",{attrs:{label:"TTD Pemilik",horizontal:"",readonly:"",value:e.selectedSertifikat.isSignedByOwner?"SUDAH":"BELUM"}}),n("CInput",{attrs:{label:"Alamat Pemilik",horizontal:"",readonly:"",value:e.selectedSertifikat.owner}})],1)],1)],1)],1)},a=[],s=n("9530"),r=n.n(s),y=n("144c");function p(){var e=d(["\n      query {\n        sertifikats {\n          id\n          ownerNIM\n          jenis\n          signedTimes\n          signRequired\n          isPublished\n          isSignedByOwner\n          owner\n        }\n      }\n    "]);return p=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u={name:"InfoSertifikat",apollo:{sertifikats:r()(p())},data:function(){return{fields:[{key:"id",filter:!1},{key:"ownerNIM",label:"Pemilik"},{key:"jenis"},{key:"tandaTangan",label:"TTD",filter:!1},{key:"isSignedByOwner",label:"TTD Pemilik",filter:!1},{key:"isPublished",label:"Status Rilis",filter:!1},{key:"action",label:"Aksi",sorter:!1,filter:!1}],activePage:1,selectedSertifikat:{},publishModal:!1,filterNIM:"",filterJenis:""}},watch:{$route:{immediate:!0,handler:function(e){e.query&&e.query.page&&(this.activePage=Number(e.query.page))}}},mounted:function(){this.$apollo.queries.sertifikats.refetch()},computed:{computedItems:function(){return this.sertifikats},filteredItems:function(){var e=this;return this.sertifikats?this.computedItems.filter((function(t){if(!e.filterNIM&&!e.filterJenis)return!0;var n=t.ownerNIM,i=t.jenis;return web3.utils.hexToUtf8(n).toLowerCase().includes(e.filterNIM.toLowerCase())&&web3.utils.hexToUtf8(i).toLowerCase().includes(e.filterJenis.toLowerCase())})):[]}},methods:{pageChange:function(e){this.$router.push({query:{page:e}})},detailClicked:function(e){this.$router.push({path:"sertifikat/detail/"+"".concat(e.id)})},hexToString:function(e){if(web3.utils.isHexStrict(e))return web3.utils.hexToUtf8(e)},formattedSigners:function(e){return e.signedTimes+"/"+e.signRequired},setFilterNIM:function(e){this.filterNIM=e.target.value},setFilterJenis:function(e){this.filterJenis=e.target.value},publishSertifikat:function(){var e=this.selectedSertifikat;web3.eth.getAccounts().then((function(t){y["a"].methods.publishCertificate(e.id).send({from:t[0]}).on("error",(function(e,t){console.log(e)})).on("transactionHash",(function(e){console.log(e),this.$apollo.queries.sertifikats.refetch()}))}))},openPublishModal:function(e){this.publishModal=!0,this.selectedSertifikat=e},confirmPublish:function(e){this.publishModal=!1,e&&this.publishSertifikat()}}},l=u,o=n("2877"),m=Object(o["a"])(l,i,a,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4b629c8b.75df4315.js.map