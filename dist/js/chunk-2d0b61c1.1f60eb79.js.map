{"version":3,"sources":["webpack:///./src/views/account/EditAccount.vue?01e6","webpack:///src/views/account/EditAccount.vue","webpack:///./src/views/account/EditAccount.vue?7734","webpack:///./src/views/account/EditAccount.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","user","address","on","$event","$set","name","validator","verified","staticClass","confirmModal","goBack","scopedSlots","_u","key","fn","proxy","confirmChange","staticRenderFns","beforeRouteEnter","next","vm","usersOpened","from","fullPath","data","String","computed","methods","$router","push","letters","updateName","web3","eth","getAccounts","then","AccountManager","confirm","beforeMount","component"],"mappings":"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","file":"js/chunk-2d0b61c1.1f60eb79.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"col\":\"12\"}},[_c('CCard',[_c('CCardHeader',[_c('strong',[_vm._v(\"Edit Account\")])]),_c('CForm',{attrs:{\"novalidate\":\"\"}},[_c('CCardBody',[_c('CInput',{attrs:{\"label\":\"Alamat\",\"horizontal\":\"\",\"readonly\":\"\",\"value\":_vm.user.address},on:{\"update:value\":function($event){return _vm.$set(_vm.user, \"address\", $event)}}}),_c('CInput',{attrs:{\"label\":\"Name\",\"required\":\"\",\"horizontal\":\"\",\"placeholder\":_vm.user.name,\"invalid-feedback\":\"Please provide at between 4-32 characters without symbols.\",\"is-valid\":_vm.validator}}),_c('CInput',{attrs:{\"label\":\"Status\",\"horizontal\":\"\",\"readonly\":\"\",\"value\":_vm.user.verified},on:{\"update:value\":function($event){return _vm.$set(_vm.user, \"verified\", $event)}}})],1),_c('CCardFooter',[_c('CButton',{staticClass:\"mr-3\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.confirmModal = true}}},[_c('CIcon',{attrs:{\"name\":\"cil-check-circle\"}}),_vm._v(\" Submit\")],1),_c('CButton',{attrs:{\"type\":\"reset\",\"size\":\"sm\",\"color\":\"danger\"},on:{\"click\":_vm.goBack}},[_c('CIcon',{attrs:{\"name\":\"cil-ban\"}}),_vm._v(\" Back\")],1)],1)],1)],1)],1),_c('CModal',{attrs:{\"show\":_vm.confirmModal,\"no-close-on-backdrop\":true,\"centered\":true,\"title\":\"Konfirmasi\",\"size\":\"sm\",\"color\":\"dark\"},on:{\"update:show\":function($event){_vm.confirmModal=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h6',{staticClass:\"modal-title\"},[_vm._v(\"Konfirmasi\")]),_c('CButtonClose',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.confirmModal = false}}})]},proxy:true},{key:\"footer\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"danger\"},on:{\"click\":function($event){return _vm.confirmChange(false)}}},[_vm._v(\"Kembali\")]),_c('CButton',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.confirmChange(true)}}},[_vm._v(\"Konfirmasi\")])]},proxy:true}])},[_vm._v(\" Apakah data telah sesuai? \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <CRow>\n    <CCol col=\"12\">\n      <CCard>\n          <CCardHeader>\n            <strong>Edit Account</strong>\n          </CCardHeader>\n          <CForm novalidate>\n            <CCardBody>\n              <CInput\n                label=\"Alamat\"\n                horizontal\n                readonly\n                :value.sync=\"user.address\"\n              />\n              <CInput\n                label=\"Name\"\n                required\n                horizontal\n                :placeholder=\"user.name\"\n                invalid-feedback=\"Please provide at between 4-32 characters without symbols.\"\n                :is-valid=\"validator\"\n              />\n              <CInput\n                label=\"Status\"\n                horizontal\n                readonly\n                :value.sync=\"user.verified\"\n              />\n            </CCardBody>\n            <CCardFooter>\n              <CButton type=\"submit\" size=\"sm\" color=\"primary\" class=\"mr-3\" @click=\"confirmModal = true\"><CIcon name=\"cil-check-circle\"/> Submit</CButton>\n              <CButton type=\"reset\" size=\"sm\" color=\"danger\" @click=\"goBack\"><CIcon name=\"cil-ban\"/> Back</CButton>\n            </CCardFooter>\n          </CForm>\n        </CCard>\n    </CCol>\n    <CModal\n      :show.sync=\"confirmModal\"\n      :no-close-on-backdrop=\"true\"\n      :centered=\"true\"\n      title=\"Konfirmasi\"\n      size=\"sm\"\n      color=\"dark\"\n    >\n      Apakah data telah sesuai?\n      <template #header>\n        <h6 class=\"modal-title\">Konfirmasi</h6>\n        <CButtonClose @click=\"confirmModal = false\" class=\"text-white\" />\n      </template>\n      <template #footer>\n        <CButton @click=\"confirmChange(false)\" color=\"danger\">Kembali</CButton>\n        <CButton @click=\"confirmChange(true)\" color=\"success\">Konfirmasi</CButton>\n      </template>\n    </CModal>\n  </CRow>\n</template>\n\n<script>\nimport AccountManager from \"@/contracts/AccountManager\";\nexport default {\n  name: \"AccountDetail\",\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      vm.usersOpened = from.fullPath;\n    });\n  },\n  data() {\n    return {\n      usersOpened: null,\n      user: {\n        name: String(),\n        verified: null,\n        address: String()\n      },\n      confirmModal: false\n    };\n  },\n  computed: {\n    verified() {\n      return this.verified ? \"Telah diverifikasi\" : \"Belum diverifikasi\"\n    }\n  },\n  methods: {\n    goBack() {\n      this.usersOpened ? this.$router.push(this.usersOpened) : this.$router.push('/dashboard')\n    },\n    validator (val) {\n      if(val == null) return false\n      var letters = /^[A-Za-z]([-']?[A-Za-z]+)*( [A-Za-z]([-']?[A-Za-z]+)*){0,3}$/gm;\n      if(!val.match(letters)) return false\n      else return val ? val.length >= 4 && val.length <=32 : false\n    },\n    updateName() {\n      let self = this;\n      web3.eth.getAccounts().then(accounts => {\n        AccountManager.methods\n          .updateAccountName(web3.utils.utf8ToHex(self.user.name))\n          .send({ from: accounts[0] })\n          .on(\"error\", function(error, receipt) {\n            console.log(error);\n            self.goBack()\n          })\n          .on(\"transactionHash\", function(hash) {\n            console.log(hash);\n            self.goBack()\n          })\n      })\n    },\n    confirmChange: function(confirm) {\n      this.confirmModal = false;\n      if (confirm) {\n        this.updateName();\n      }\n    }\n  },\n  beforeMount() {\n    let self = this;\n      web3.eth.getAccounts().then(accounts => {\n        AccountManager.methods\n          .getAccount(accounts[0])\n          .call({ from: accounts[0] })\n          .then(function(result) {\n            if (result) {\n              self.user.address = result[0];\n              self.user.name = web3.utils.hexToUtf8(result[2]);\n              self.user.verified = result[1] ? \"Terverifikasi\" : \"Belum diverifikasi\";\n            }\n          })\n      })\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditAccount.vue?vue&type=template&id=6ae219b8&\"\nimport script from \"./EditAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./EditAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}