(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0dd9"],{4436:function(a,t,e){"use strict";e.r(t),e.d(t,"GET_MAHASISWA",(function(){return v}));var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("CRow",[e("CCol",{attrs:{col:"12"}},[e("CCard",[e("CCardHeader",[a._v("Mahasiswa Detail")]),e("CCardBody",[e("h5",[a._v("Data On-Chain")]),e("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:a.dataContract,fields:a.fields}}),e("h5",[a._v("Data Off-Chain (Subgraph)")]),e("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:a.dataSubgraph,fields:a.fields}}),e("h5",[a._v("Data Off-Chain (IPFS)")]),e("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:a.dataIpfs,fields:a.fields}}),e("CRow",{staticClass:"justify-content-center"},[e("CCol",{attrs:{sm:"3"}},[e("CCard",[e("CCardBody",[a.previewImage?a._e():e("div",[e("CProgress",{staticClass:"mt-1",staticStyle:{height:"20px"},attrs:{color:"success",value:100,animated:""}})],1),a.previewImage?e("div",[e("img",{staticClass:"d-block w-100 h-100 img-fluid",attrs:{src:a.previewImage}})]):a._e()])],1)],1)],1)],1),e("CCardFooter",[e("CButton",{attrs:{color:"primary"},on:{click:a.goBack}},[a._v("Back")])],1)],1)],1)],1)},i=[],r=e("9530"),s=e.n(r),o=e("3f55");function u(a,t){return h(a)||d(a,t)||f(a,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(a,t){if(a){if("string"===typeof a)return c(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(a,t):void 0}}function c(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=a[e];return n}function d(a,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(a)){var e=[],n=!0,i=!1,r=void 0;try{for(var s,o=a[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(e.push(s.value),t&&e.length===t)break}catch(u){i=!0,r=u}finally{try{n||null==o["return"]||o["return"]()}finally{if(i)throw r}}return e}}function h(a){if(Array.isArray(a))return a}function m(){var a=p(["\n  query mahasiswa($nim: ID!) {\n    mahasiswa(id: $nim) {\n      id\n      name\n      prodi\n      isLulus\n      isAssignedNINA\n      isUpdatedNINAData\n      linkedAccount {\n        id\n      }\n      timeCreated\n      lastUpdated\n    }\n  }\n"]);return m=function(){return a},a}function p(a,t){return t||(t=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(t)}}))}var v=s()(m()),b=e("94e4"),w=b({host:"ipfs.infura.io",port:5001,protocol:"https"}),y={name:"MahasiswaDetail",beforeRouteEnter:function(a,t,e){e((function(a){a.usersOpened=t.fullPath}))},data:function(){return{usersOpened:null,dataSubgraph:null,mahasiswaData:{nim:String(),ipfsHash:String()},mahasiswaIpfs:null,dataContract:null,dataIpfs:null,previewImage:null}},computed:{fields:function(){return[{key:"key",label:"Informasi",_classes:"font-weight-bold text-capitalize",_style:"width:25%"},{key:"value",label:"Nilai"}]},mhsDataSubgraph:function(){var a=this.mahasiswa?Object.entries(this.mahasiswa):[["id","Not found"]];return a.map((function(a){var t=u(a,2),e=t[0],n=t[1];return{key:e,value:n}}))},mhsDataOnChain:function(){var a=this.mahasiswaData?Object.entries(this.mahasiswaData):[["id","Not found"]];return a.map((function(a){var t=u(a,2),e=t[0],n=t[1];return{key:e,value:n}}))},mhsDataIpfs:function(){var a=this.mahasiswaIpfs?Object.entries(this.mahasiswaIpfs):[["id","Not found"]];return a.map((function(a){var t=u(a,2),e=t[0],n=t[1];return{key:e,value:n}}))},visibleDataSubgraph:function(){return this.mhsDataSubgraph.filter((function(a){return"timeCreated"==a.key||"lastUpdated"==a.key?(a.value=new Date(1e3*a.value),a):(web3.utils.isHexStrict(a.value)&&(a.value=web3.utils.hexToUtf8(a.value)),"linkedAccount"==a.key&&(a.value=a.value?a.value.id:"Tidak Ada"),null==a.value||"__typename"==a.key?null:a)}))}},methods:{goBack:function(){this.$router.go(-1)}},beforeMount:function(){var a=this,t=this;web3.eth.getAccounts().then((function(e){o["a"].methods.getMahasiswa(a.$route.params.id).call({from:e[0]}).then((function(a){a&&(t.mahasiswaData.nim=web3.utils.hexToUtf8(a[0]),t.mahasiswaData.ipfsHash=web3.utils.hexToUtf8(a[1]),t.dataContract=t.mhsDataOnChain,w.cat("/ipfs/"+t.mahasiswaData.ipfsHash).then((function(a){t.mahasiswaIpfs=JSON.parse(a.toString()),t.dataIpfs=t.mhsDataIpfs,w.cat("/ipfs/"+t.mahasiswaIpfs.foto).then((function(a){var e=new Blob([a],{type:"image/png"}),n=URL.createObjectURL(e);t.previewImage=n}))})))}))})),this.$apollo.query({query:v,variables:{nim:this.$route.params.id}}).then((function(t){a.mahasiswa=t.data.mahasiswa,a.dataSubgraph=a.visibleDataSubgraph}))}},C=y,g=e("2877"),D=Object(g["a"])(C,n,i,!1,null,null,null);t["default"]=D.exports}}]);
//# sourceMappingURL=chunk-2d0c0dd9.ff2d8476.js.map