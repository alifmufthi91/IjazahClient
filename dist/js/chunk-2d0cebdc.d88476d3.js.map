{"version":3,"sources":["webpack:///./src/views/account/Account.vue?44e9","webpack:///src/views/account/Account.vue","webpack:///./src/views/account/Account.vue?1fb1","webpack:///./src/views/account/Account.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","dataContract","fields","dataSubgraph","on","goBack","staticRenderFns","name","beforeRouteEnter","next","vm","usersOpened","from","fullPath","data","user","address","String","verified","computed","userDataSubgraph","userDetails","map","userDataOnChain","visibleDataSubgraph","filter","param","key","value","Date","web3","utils","hexToUtf8","methods","beforeMount","eth","getAccounts","then","AccountManager","$apollo","component"],"mappings":"qKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,IAAM,OAAO,CAACF,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACJ,EAAIO,GAAG,oBAAoBH,EAAG,YAAY,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,mBAAmBH,EAAG,aAAa,CAACE,MAAM,CAAC,QAAU,GAAG,MAAQ,GAAG,MAAQ,GAAG,MAAQN,EAAIQ,aAAa,OAASR,EAAIS,UAAUL,EAAG,KAAK,CAACJ,EAAIO,GAAG,+BAA+BH,EAAG,aAAa,CAACE,MAAM,CAAC,QAAU,GAAG,MAAQ,GAAG,MAAQ,GAAG,MAAQN,EAAIU,aAAa,OAASV,EAAIS,WAAW,GAAGL,EAAG,cAAc,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,WAAWK,GAAG,CAAC,MAAQX,EAAIY,SAAS,CAACZ,EAAIO,GAAG,WAAW,IAAI,IAAI,IAAI,IAC9mBM,EAAkB,G,+0CCsBtB,eAcA,GACEC,KAAM,gBACNC,iBAFF,SAEA,OACIC,GAAK,SAAT,GACMC,EAAGC,YAAcC,EAAKC,aAG1BC,KAPF,WAQI,MAAO,CACLH,YAAa,KACbR,aAAc,KACdY,KAAM,CACJC,QAASC,SACTV,KAAMU,SACNC,SAAU,MAEZjB,aAAc,OAGlBkB,SAAU,CACRjB,OADJ,WAEM,MAAO,CACb,CAAQ,IAAR,MAAQ,MAAR,YAAQ,SAAR,mCAAQ,OAAR,aACA,CAAQ,IAAR,QAAQ,MAAR,WAGIkB,iBAPJ,WAQM,IAAN,eACA,6BACA,qBACM,OAAOC,EAAYC,KAAI,SAA7B,8BACQ,MAAO,CAAf,mBAGIC,gBAfJ,WAgBM,IAAN,YACA,0BACA,qBACM,OAAOR,EAAKO,KAAI,SAAtB,8BACQ,MAAO,CAAf,mBAGIE,oBAvBJ,WAwBM,OAAO9B,KAAK0B,iBAAiBK,QAAO,SAA1C,GACQ,MAAiB,eAAbC,EAAMC,KAAqC,eAAbD,EAAMC,KACtCD,EAAME,MAAQ,IAAIC,KAAmB,IAAdH,EAAME,OACtBF,IAGjB,aACA,kCAEUA,EAAME,MAAQE,KAAKC,MAAMC,UAAUN,EAAME,QAExB,MAAfF,EAAME,OAA8B,cAAbF,EAAMC,IACxB,KAEFD,QAIbO,QAAS,CACP5B,OADJ,WAEMX,KAAKiB,YACX,oCACA,kCAGEuB,YApEF,WAoEA,WACA,OACIJ,KAAKK,IAAIC,cAAcC,MAAK,SAAhC,GACMC,EAAN,aACA,+BACA,MAAQ,KAAR,OACA,kBACA,IACU,EAAV,kBACU,EAAV,qCACU,EAAV,mBACU,EAAV,sCAII5C,KAAK6C,QACT,OACM,MAAN,EACM,UAAN,CACQ,QAAR,yBAGA,kBACM,EAAN,uBACM,EAAN,wCCjIgW,I,YCO5VC,EAAY,eACd,EACAhD,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAkC,E","file":"js/chunk-2d0cebdc.d88476d3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"col\":\"12\"}},[_c('CCard',[_c('CCardHeader',[_vm._v(\"Account Detail\")]),_c('CCardBody',[_c('h5',[_vm._v(\"Data On-Chain\")]),_c('CDataTable',{attrs:{\"striped\":\"\",\"small\":\"\",\"fixed\":\"\",\"items\":_vm.dataContract,\"fields\":_vm.fields}}),_c('h5',[_vm._v(\"Data Off-Chain (Subgraph)\")]),_c('CDataTable',{attrs:{\"striped\":\"\",\"small\":\"\",\"fixed\":\"\",\"items\":_vm.dataSubgraph,\"fields\":_vm.fields}})],1),_c('CCardFooter',[_c('CButton',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.goBack}},[_vm._v(\"Back\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <CRow>\n    <CCol col=\"12\">\n      <CCard>\n        <CCardHeader>Account Detail</CCardHeader>\n        <CCardBody>\n          <h5>Data On-Chain</h5>\n          <CDataTable striped small fixed :items=\"dataContract\" :fields=\"fields\" />\n          <h5>Data Off-Chain (Subgraph)</h5>\n          <CDataTable striped small fixed :items=\"dataSubgraph\" :fields=\"fields\" />\n        </CCardBody>\n        <CCardFooter>\n          <CButton color=\"primary\" @click=\"goBack\">Back</CButton>\n        </CCardFooter>\n      </CCard>\n    </CCol>\n  </CRow>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\nimport AccountManager from \"@/contracts/AccountManager\";\n\nexport const GET_ACCOUNT = gql`\n  query account($address: ID!) {\n    account(id: $address) { \n      id\n      name\n      verified\n      role\n      nomorInduk\n      timeCreated\n      lastUpdated\n    }\n  }\n`;\n\nexport default {\n  name: \"AccountDetail\",\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      vm.usersOpened = from.fullPath;\n    });\n  },\n  data() {\n    return {\n      usersOpened: null,\n      dataSubgraph: null,\n      user: {\n        address: String(),\n        name: String(),\n        verified: null,\n      },\n      dataContract: null,\n    };\n  },\n  computed: {\n    fields() {\n      return [\n        { key: \"key\", label: \"Informasi\", _classes:\"font-weight-bold text-capitalize\", _style: 'width:25%'},\n        { key: \"value\", label: \"Nilai\" },\n      ];\n    },\n    userDataSubgraph() {\n      const userDetails = this.account\n        ? Object.entries(this.account)\n        : [[\"id\", \"Not found\"]];\n      return userDetails.map(([key, value]) => {\n        return { key, value };\n      });\n    },\n    userDataOnChain() {\n      const user = this.user\n        ? Object.entries(this.user)\n        : [[\"id\", \"Not found\"]];\n      return user.map(([key, value]) => {\n        return { key, value };\n      });\n    },\n    visibleDataSubgraph() {\n      return this.userDataSubgraph.filter((param) => {\n        if (param.key == \"timeCreated\" || param.key == \"lastUpdated\") {\n          param.value = new Date(param.value * 1000);\n          return param;\n        }\n        if (\n          param.key != \"id\" &&\n          web3.utils.isHexStrict(param.value)\n        ) {\n          param.value = web3.utils.hexToUtf8(param.value);\n        }\n        if (param.value == null || param.key == \"__typename\") {\n          return null;\n        }\n        return param;\n      });\n    },\n  },\n  methods: {\n    goBack() {\n      this.usersOpened\n        ? this.$router.push(this.usersOpened)\n        : this.$router.push(\"/dashboard\");\n    },\n  },\n  beforeMount() {\n    let context = this;\n    web3.eth.getAccounts().then((accounts) => {\n      AccountManager.methods\n        .getAccount(this.$route.params.id)\n        .call({ from: accounts[0] })\n        .then(function (result) {\n          if (result) {\n            context.user.address = result[0];\n            context.user.name = web3.utils.hexToUtf8(result[2]);\n            context.user.verified = result[1];\n            context.dataContract = context.userDataOnChain;\n          }\n        });\n    });\n    this.$apollo\n      .query({\n        query: GET_ACCOUNT,\n        variables: {\n          address: this.$route.params.id,\n        },\n      })\n      .then((response) => {\n        this.account = response.data.account;\n        this.dataSubgraph = this.visibleDataSubgraph;\n      });\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=b093d1c0&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}